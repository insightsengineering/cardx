<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ARD to Calculate Categorical Occurrence Rates by Maximum Level Per Unique ID — ard_categorical_max • cardx</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ARD to Calculate Categorical Occurrence Rates by Maximum Level Per Unique ID — ard_categorical_max"><meta name="description" content="Function calculates categorical variable level occurrences rates by maximum level per unique ID.
Each variable in variables is evaluated independently and then results for all variables are stacked.
Only the highest-ordered level will be counted for each unique ID.
Unordered, non-numeric variables will be converted to factor and the default level order used for ordering."><meta property="og:description" content="Function calculates categorical variable level occurrences rates by maximum level per unique ID.
Each variable in variables is evaluated independently and then results for all variables are stacked.
Only the highest-ordered level will be counted for each unique ID.
Unordered, non-numeric variables will be converted to factor and the default level order used for ordering."><meta property="og:image" content="https://insightsengineering.github.io/cardx/logo.png"><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cardx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3.9006</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/cardx/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>ARD to Calculate Categorical Occurrence Rates by Maximum Level Per Unique ID</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/cardx/blob/main/R/ard_categorical_max.R" class="external-link"><code>R/ard_categorical_max.R</code></a></small>
      <div class="d-none name"><code>ard_categorical_max.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function calculates categorical variable level occurrences rates by maximum level per unique ID.
Each variable in <code>variables</code> is evaluated independently and then results for all variables are stacked.
Only the highest-ordered level will be counted for each unique ID.
Unordered, non-numeric variables will be converted to factor and the default level order used for ordering.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ard_categorical_max</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">variables</span>,</span>
<span>  <span class="va">id</span>,</span>
<span>  by <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_data.html" class="external-link">group_vars</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>,</span>
<span>  statistic <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"p"</span>, <span class="st">"N"</span><span class="op">)</span>,</span>
<span>  denominator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fmt_fn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  stat_label <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="fu">cards</span><span class="fu">::</span><span class="fu"><a href="https://insightsengineering.github.io/cards/latest-tag/reference/default_stat_labels.html" class="external-link">default_stat_labels</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(<code>data.frame</code>)<br>
a data frame</p></dd>


<dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>(<code><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a></code>)<br>
The categorical variables for which occurrence rates per unique ID (by maximum level) will be calculated.</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>(<code><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a></code>)<br>
Argument used to subset <code>data</code> to identify rows in <code>data</code> to calculate categorical variable level occurrence rates.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>(<code><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a></code>)<br>
columns to tabulate by in the series of ARD function calls.
Any rows with <code>NA</code> or <code>NaN</code> values are removed from all calculations.</p></dd>


<dt id="arg-statistic">statistic<a class="anchor" aria-label="anchor" href="#arg-statistic"></a></dt>
<dd><p>(<code><a href="https://insightsengineering.github.io/cards/latest-tag/reference/syntax.html" class="external-link">formula-list-selector</a></code>)<br>
a named list, a list of formulas,
or a single formula where the list element one or more of  <code>c("n", "N", "p", "n_cum", "p_cum")</code>
(on the RHS of a formula).</p></dd>


<dt id="arg-denominator">denominator<a class="anchor" aria-label="anchor" href="#arg-denominator"></a></dt>
<dd><p>(<code>data.frame</code>, <code>integer</code>)<br>
An optional argument to change the denominator used for <code>"N"</code> and <code>"p"</code> statistic calculations.
Defaults to <code>NULL</code>, in which case <code>dplyr::distinct(data, dplyr::pick(all_of(c(id, by))))</code> is used for these
calculations. See <code><a href="https://insightsengineering.github.io/cards/latest-tag/reference/ard_categorical.html" class="external-link">cards::ard_categorical()</a></code> for more details on specifying denominators.</p></dd>


<dt id="arg-fmt-fn">fmt_fn<a class="anchor" aria-label="anchor" href="#arg-fmt-fn"></a></dt>
<dd><p>(<code><a href="https://insightsengineering.github.io/cards/latest-tag/reference/syntax.html" class="external-link">formula-list-selector</a></code>)<br>
a named list, a list of formulas,
or a single formula where the list element is a named list of functions
(or the RHS of a formula),
e.g. <code>list(mpg = list(mean = \(x) round(x, digits = 2) |&gt; as.character()))</code>.</p></dd>


<dt id="arg-stat-label">stat_label<a class="anchor" aria-label="anchor" href="#arg-stat-label"></a></dt>
<dd><p>(<code><a href="https://insightsengineering.github.io/cards/latest-tag/reference/syntax.html" class="external-link">formula-list-selector</a></code>)<br>
a named list, a list of formulas, or a single formula where
the list element is either a named list or a list of formulas defining the
statistic labels, e.g. <code>everything() ~ list(n = "n", p = "pct")</code> or
<code>everything() ~ list(n ~ "n", p ~ "pct")</code>.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>(scalar <code>logical</code>)<br>
Logical indicating whether to suppress additional messaging. Default is <code>FALSE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to methods.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an ARD data frame of class 'card'</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Occurrence Rates by Max Level (Highest Severity) --------------------------</span></span></span>
<span class="r-in"><span><span class="fu">ard_categorical_max</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">cards</span><span class="fu">::</span><span class="va"><a href="https://insightsengineering.github.io/cards/latest-tag/reference/adam.html" class="external-link">ADAE</a></span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">AESER</span>, <span class="va">AESEV</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="va">USUBJID</span>,</span></span>
<span class="r-in"><span>  by <span class="op">=</span> <span class="va">TRTA</span>,</span></span>
<span class="r-in"><span>  denominator <span class="op">=</span> <span class="fu">cards</span><span class="fu">::</span><span class="va"><a href="https://insightsengineering.github.io/cards/latest-tag/reference/adam.html" class="external-link">ADSL</a></span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>TRTA <span class="op">=</span> <span class="va">ARM</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `AESER`: <span style="color: #0000BB;">"N"</span> &lt; <span style="color: #0000BB;">"Y"</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `AESEV`: <span style="color: #0000BB;">"MILD"</span> &lt; <span style="color: #0000BB;">"MODERATE"</span> &lt; <span style="color: #0000BB;">"SEVERE"</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">{cards} data frame: 45 x 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    group1 group1_level variable variable_level stat_name stat_label  stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    TRTA      Placebo    AESER              N         n          n    69</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    TRTA      Placebo    AESER              N         N          N    86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    TRTA      Placebo    AESER              N         p          % 0.802</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    TRTA      Placebo    AESER              Y         n          n     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    TRTA      Placebo    AESER              Y         N          N    86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    TRTA      Placebo    AESER              Y         p          %     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    TRTA      Placebo    AESEV           MILD         n          n    36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    TRTA      Placebo    AESEV           MILD         N          N    86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    TRTA      Placebo    AESEV           MILD         p          % 0.419</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10   TRTA      Placebo    AESEV       MODERATE         n          n    26</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">35 more rows</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">Use `print(n = ...)` to see more rows</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #555555;">4 more variables: context, fmt_fn, warning, error</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>cardx is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>





  </body></html>

